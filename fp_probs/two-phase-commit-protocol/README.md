a simple “two phase commit” protocol
